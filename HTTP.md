Интернет основан на протоколах — системах правил обмена данными между сетевым оборудованием. Более новые протоколы работают на основе более старых, таким образом образовывая многослойный "пирог" и обеспечивая обратную совместимость для всех участников сети.

![](media/http-layers-2.png)
# Запросы

HTTP базируется на передаче данных между поставщиком (сервером) и заказчиком (клиентом). Передача данных инициируется от клиента к серверу: клиент отправляет запрос (request), а сервер отправляет ответ (response).

> [!IMPORTANT] Правильно сконфигурированный сервер в начале ответа возвращает один из множества 3-значных кодов, которые сообщают о результате операции:
> 1хх — информационные
> 2хх — успешное завершение
> 3хх — запрос перенаправлен
> 4хх — ошибка клиента
> 5хх — ошибка сервера

Запросы в HTTP содержат необходимые данные:
- адрес
- метод
- заголовок
## Адрес

Адреса стандартизированы и содержат информацию о месте назначения документа или другого объекта в сети. Например, ссылка http://apalevich.com/media/userpic.jpg содержит:
- указание на протокол подключения *http*
- указание домена *apalevich.com*, ведущего на сервер
- указание пути на документ *media/userpic.jpg* на сервере

> [!NOTE] Стандартизированный адрес называется URL и полная форма записи выглядит так: `<схема>:[//[<логин>[:<пароль>]@]<хост>[:<порт>]][/<URL‐путь>][?<параметры>][#<якорь>]`
## Метод

Метод указывает основную операцию над запрашиваевым ресурсом. Обычно метод представляет собой короткое английское слово, записанное заглавными буквами (регистр важен).

- GET — вернуть содержимое ресурса
- HEAD — вернуть только заголовки
- POST — обработать данные из запроса на сервере
- PUT — заменить ресурс содержимым запроса
- PATCH — обновить часть ресурса содержимым запроса
- DELETE — удалить содержимое запроса с сервера
- TRACE — вернуться запрос в качестве ответа
- OPTIONS — отправить список доступных методов 

## Заголовки

Заголовки — это пары `ключ: значение`, которые позволяют отправлять дополнительную информацию вместе с запросом. Они сопровождают как запросы, так и ответы.

Заголовки делятся на 4 группы:
1. Основные заголовки, которые не имеют отношения к содержимому запроса (например, `Date` и `Cache-Control`)
2. Заголовки запроса, посылаемые клиентом (например, `User-Agent` — идентификатор браузера)
3. Заголовки ответа, посылаемые сервером (например, `Last-Modified` и `Content-Type`)
4. Заголовки, описывающие передаваемые данные (например, `Content-Lenght` и `Content-Language`)

Программно не имеет значение, в каком порядке указывать заголовки, но хорошей практикой считается соблюдать по порядку групп.

> [!INFO] Как правило, в голом запросе путь указывается в качестве адреса, а домен — в заголовке `Host`. Но в большинстве интерфейсов это разделение происходит автоматически и указывать `Host` не нужно

# Клиент / Сервер

# Как происходит соединение

## DNS

## TCP  

## Отправка запроса

## Получение ответа

## Обработка результата

# Внешние ресурсы:
Обзор HTTP на MDN — https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview
Книга Flavio Copes "Node.js"